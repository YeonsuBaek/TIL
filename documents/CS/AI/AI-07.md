# 인공지능 - 논리적 에이전트

> ### Index
>
> 1. 지식 기반 에이전트
> 2. 웜퍼스 세계
> 3. 논리
> 4. 명제 논리: 아주 간단한 논리
> 5. 명제의 정리 증명
> 6. 요약

> ### 학습 목표
>
> 복잡한 세계의 표현을 형성할 수 있고 추리 공정을 이용해서 세계에 대한 새로운 표현들을 유도할 수 있으며 그러한 새 표현들을 이용해서 다음에 할 일을 연역할 수 있는 에이전트를 설계한다.

인간의 지능은 단지 반사 작용 메커니즘이 아닌, 지식의 내부 **표현**들에 작용하는 **추론** 공정들로 달성된다.

인공지능은 지식기반 에이전트가 지능에 대한 이러한 접근 방식을 내포한다.

지식기반 에이전트는 다음과 같다.

- 논리를 표현들의 일반적인 부류로 취급
- 정보를 목적에 맞게 조합 및 재조합 할 수 있음
- 명시적으로 서술된 목표의 형태로 새 과제를 받을 수 있음
- 환경에 대한 새로운 지식을 제공받거나 스스로 습득 가능
- 환경 변화에 적응하거나 유관 지식 갱신 가능

## 1. 지식 기반 에이전트

### 1-1. 핵심 구성 요소: 지식 베이스

- 문장들의 집합으로, 지식 표현 언어에 의해 표현
- 새 문장을 추가하는 방법과 지식 베이스에 있는 문장을 질의하는 방법 필요
  - TELL과 ASK 사이에 interface(추론과정) 존재
- 추론
  - 기존 문장에서 새 문장을 이끌어 내는 과정
  - 요구 조건
    - ASK 연산으로 지식 베이스에 질의했을 때 그 답이 반드시 이전에 알려진(TELL) 지식에 따름.
    - 즉, 추론 과정이 근거 없이 이루어지면 안됨

### 1-2. 지식 기반 에이전트 프로그램

수행 동작은 다음과 같다.

1. 지각을 지식 베이스에 알려줌(TELL)
2. 자신이 수행할 동작을 지식 베이스에 물음(ASK) - 추론이 수행될 수 있음
3. 선택한 동작을 지식 베이스에 알려주고 호출한 곳에서 동작을 리턴

지식 기반 에이전트의 특징은 다음과 같다.

- 초기 지식베이스에는 환경에 대한 정보인 배경지식이 들어있을 수 있음
- 내부 상태를 가진 에이전트와 비슷
- 동작들을 계산하는 임의의 프로그램은 아님

![](https://velog.velcdn.com/images/yeonsubaek/post/e305ae69-c42f-4a15-8d8c-fdb88984e25b/image.png)

① 에이전트가 특정 시간에 특정 지각을 받았음을 단언하는 문장 구축 (=지식 베이스에 들어갈 지식 만들기)
② 현재 시간에 에이전트가 수행할 동작을 묻는 문장 구축
③ 그 동작을 에이전트가 채택했음을 단언하는 문장 구축

### 1-3. 구축 방법

- 알아야 할 모든 것을 TELL로 알려주는 단순한 방식 (선언적 구축 접근 방법)
  - 빈 지식 베이스로 시작해서 에이전트가 환경 안에서 잘 작동할 때까지 문장 하나씩 TELL로 주입
- 절차적 접근 방법
  - 바람직한 행동을 프로그램 코드에 직접 집어 넣는 방식
- 모두 사용
  - 선언적 + 절차적 접근 방식
  - 선언적 지식을 좀 더 효율적인 절차적 코드 안에 조합

## 2. 웜퍼스 세계

### 2-1. PEAS

![](https://velog.velcdn.com/images/yeonsubaek/post/f4354f04-006c-40a4-9340-386348f99f18/image.png)

- 성과 측도 (Performance)
  - 금: + 1000
  - 구덩이 & Die: -1000
  - 동작: -1
  - 활: -10
- 환경 (Environment)
  - 4x4 격자에 16개 방, 격자 전체는 벽
  - 에이전트 [1,1] 칸에서 동쪽으로 향한 자세로 시작
  - 금, 웜퍼스 위치는 시작을 제외한 무작위
  - 모든 칸은 0.2의 확률로 구덩이
- 작동기 (Actuator)

  - Forward, 90도 TurnLeft, 90도 TurnRight
  - 구덩이, 웜퍼스: Die
  - 벽 통과 못함
  - 금이 있으면 Grab 동작
  - Shoot 동작: 에이전트가 향한 쪽 화살
    - 웜퍼스나 벽에 맞을 때까지 날아감
  - Climb 동작: 동굴에서 기어 나옴
    - [1,1]에서만 가능

- 감지기 (Sensor)
  - 감지기 5개, 각각 한 비트의 정보 제공
  - 웜퍼스와 인접한 방: 악취(Stench) 감지
  - 구덩이와 인접한 방: 미풍(Breeze) 감지
  - 금더미와 인접한 방: 반짝임(Glitter) 감지
  - 벽에 부딪히면: 충돌(Bump) 감지
  - 웜프스가 죽으면: 비명(Scream) 감지
    - 맵 전체
  - 기호 형태로 제공
    - 예: [Stench, Breeze, None, None, None]

### 2-2. 기타 특징

- 결정론적, 이산적, 정적, 단일 에이전트

- 여러 동작을 취한 후 보상: 순차적

- 상태의 일부 측면을 지각하지 않음: 부분관측
  - 에이전트 위치, 웜퍼스 삶과 죽음 상태, 화살 발사 가능 여부는 지각하지 않음
- 구덩이 위치와 웜퍼스 위치
  - 상태의 관측되지 않은 부분으로 간주
    - 환경에 대한 전이 모형이 완전 기지
    - 구덩이 위치를 파악하면 상태에 대한 에이전트의 지식 완성
  - 어떤 Forward 동작이 죽음을 미리 유발할지 모름 (미지)
    - 구덩이와 웜퍼스 위치가 발견된 후에 전이모형에 대한 지식 완성
- 초기 환경에 대한 지식 없음
  - 논리적 추론이 필요
- 환경의 약 21%는 금이 구덩이 방에 있거나 금이 구성이 방으로 둘러싸여 있음

### 2-3. 에이전트가 수행하는 동작들

![](https://velog.velcdn.com/images/yeonsubaek/post/f4ecb651-410b-44a0-9a1b-8884e0841813/image.png)

(a): 초기상황. 지각 [None, None, None, None, None]을 받았다.
(b): [2,1]로 이동하여 지각 [None, Breeze, None, None, None]을 감지하였다.

![](https://velog.velcdn.com/images/yeonsubaek/post/2c5e123c-49fb-4cdf-87f9-a2413c4bca6d/image.png)

(a) [1,1]을 거쳐 [1,2]로 이동해 [Stench, None, None, None, None]을 지각한 후의 상황
(b) [2,2]를 거쳐 [2,3]으로 가서 [Stench, Breeze, Glitter, None, None]을 지각한 후의 상황

주어진 정보가 정확하다면 결론 역시 정확함이 보장된다. (논리적 추론의 근본 속성)

## 3. 논리

### 3-1. 논리적 표현과 추론의 근본 개념

- 지식 베이스를 문장으로 구성
  - 문장은 표현 언어의 구문을 따르므로, 적격인 문장을 규정
  - 예) x+y=4 (적격), x4y+= (부적격)
- 논리
  - 문장의 뜻도 정의해야 함
  - 의미론은 각각의 가능한 세계에 대한 문장의 진리(참 또는 거짓 여부)를 정의
  - 예) x+y=4이면 x와 y가 각각 2이면 참, 각각 1이면 거짓

### 3-2. 논리적 표현과 추론의 근본 개념

엄밀한 정의가 필요한 경우 다음과 같다.

- '가능한 세계' 대신 모형이라는 용어 사용

- 모형은 실제 환경이 아닌 수학적인 추상

  - 예) x+y=4는 실제 환경에 대한 수학적 모델(x: 여자, y: 남자)

- 문장에서 a가 모형 m에서 참일 때

  - "m이 a를 만족한다", "m이 a의 모형이다"
  - m: 지각을 통해 만들어낼 수 있는 정보

- a의 모든 모형의 집합을 M(a)로 표기

### 3-3. 논리적 추론

문장들 사이의 논리적 필연 또는 함축 관계가 기여한다.

- 함축
  - 문장이 다른 문장을 "논리적으로 따른다"는 개념
  - ⍺ ⊨ β: 문장 ⍺가 문장 β를 함축한다
  - 만약 M(⍺) M(β)이면, 그리고 오직 그럴 때에만, ⍺ ⊨ β
    - 예) x=0 ⊆ x∙y=0

### 3-4. 추론에 대한 분석 예

지식 베이스 = 지각 + 원퍼스 세계의 규칙들에 대한 에이전트의 지식

![](https://velog.velcdn.com/images/yeonsubaek/post/b3797bf6-e5cb-432d-bb70-8ede57267690/image.png)

![](https://velog.velcdn.com/images/yeonsubaek/post/cc0d4662-9808-4f79-ab17-8093b4008873/image.png)

칸 [1,2], [2,2], [3,1]의 구덩이 여부에 대한 가능한 도형들이다.

두 그림에서 실선은 [1,1]에서 아무것도 감지하지 못했고 [2,1]에서 미풍을 감지했음을 담을 지식 베이스를 나타낸다.

(a): ⍺1([1,2]에 구덩이가 없음)의 모형들
(b): ⍺2([2,2]에 구덩이가 없음)의 모형들

지식 베이스는 문장들의 집합 또는 모든 개별 문장을 단언하는 하나의 문장이다.  
에이전트가 아는 것과 모순이 되면 거짓이다.

![](https://velog.velcdn.com/images/yeonsubaek/post/191af988-beb4-4b7b-9562-8eb7d2347817/image.png)

### 3-5. 모형 점검

모든 가능한 모형을 훑으면서 지식 베이스(KB)가 참인 모든 모형에서 ⍺가 참인지 점검한다. 즉 M(KB)⊆M(⍺)를 점검한다.

추론 알고리즘 𝒾가 KB로부터 ⍺를 도출할 수 있을 때

- KB ⊢ ⍺
  - "⍺가 𝒾에 의해 KB로부터 유도된다"
  - "𝒾는 KB로부터 ⍺를 유도한다"

### 3-6. 실세계와 논리적 추론의 대응 관계

만일 실제 세계에서 KB가 참이면, 건전한 추론 절차를 이용해서 KB에서 도출한 임의의 문장(⍺)도 실제 세계에서 참이다.

![](https://velog.velcdn.com/images/yeonsubaek/post/2ccbb34e-194a-458f-bfde-d7c427ba9501/image.png)

문장들은 에이전트의 물리적 구성들이고 추론은 기존의 물리적 구성들로부터 새로운 물리적 구성을 구축하는 과정이다.  
논리적 추론은 새 구성이 나타내는 세계의 측면들이 기존 구성들이 나타내는 측면들을 따른다는 점을 보장해야 한다.

## 4. 명제 논리: 아주 간단한 논리

### 4-1. 구문

- 원자적 문장은 하나의 명제 기호(참 또는 거짓)로 구성된다.

  - P,Q, R, W1.3, FacingEast

- 단순한 문장들 + 괄호 + 논리 접속사(연산자) = 복합 문장

- 논리 접속사
  - ¬: 부정, not
    - ¬P: true->false, false->true
  - ∧: 논리곱, and
    - true∧true->true, true∧false->false
  - ∨: 논리합, or
    - true∧false->true, false∧false->false
  - ⇒: 함의
    - P⇒Q: P이면 Q이다 (true->true, false->true/false)
  - ⇔: 상호 조건
    - P⇔Q: P==Q
- 명제 논리의 형식 문법
  - 부정 연산자의 우선순위가 가장 높음
  - 연산자 우선순위: ¬, ∧, ∨, ⇒, ⇔

### 4-2. 의미론

- 특정 모형에 대한 문장의 진리를 결정하는 규칙들을 정의
  - 모형: 진리값을 설정하는 역할

![](https://velog.velcdn.com/images/yeonsubaek/post/34ed9e4f-8115-41ed-a274-27eaf138c915/image.png)

위 예시에서 TTT, TTF, TFF, TFT, FTT, FTF, FFT, FFF 총 8개 모형 가능

- 명제 논리의 의미론
  - 주어진 모형에 대한 임의의 문장의 진릿값을 계산하는 방법 명시
  - 원자적 문장의 진리값 계산
    - True는 모든 모형에서 참이고, False는 모든 모형에서 거짓
    - 다른 모든 명제 기호의 진릿값은 반드시 모형 자체에 명시되어야 함
  - 복합 문장 (예: ¬P∧(P∨P))

![](https://velog.velcdn.com/images/yeonsubaek/post/5f2e6b29-20c2-4ad5-bc0f-511fdc61906c/image.png)

### 4-3. 간단한 지식 베이스

웜퍼스 세계의 지식 베이스를 구축한다.

- 불변이 측면들에 집중

- 명제 **기호** 정의
  - 𝑃𝑥,𝑦는 만일 [𝑥, 𝑦]에 구덩이가 있으면 참이다.
  - 𝑊𝑥,𝑦는 만일 [𝑥, 𝑦]에 웜퍼스가 있으면(죽어든 살았든) 참이다.
  - 𝐵𝑥,𝑦는 만일 [𝑥, 𝑦]에 미풍이 있으면 참이다.
  - 𝑆𝑥,𝑦는 만일 [𝑥, 𝑦]에 악취가 있으면 참이다.
  - 𝐿𝑥,𝑦는 만일 에이전트가 위치 [𝑥, 𝑦]에 있으면 참이다.
- [1, 2]에 구덩이가 없나는 것(¬𝑃1,2)을 유도하는 명제 논리 문장

- 각 **문장**에 𝑅𝑖 기호 사용
  - [1, 1]에 구덩이가 없다
    - 𝑅1: ¬P1.1
  - 하나의 칸에서 에이전트는 만일 그 이웃 칸에 구덩이가 있으면, 그리고 오직 그럴 때만 미풍을 지각할 수있다. 이 문장은 칸 마다 명시해야 한다.
    - R2: B1.1 ⇔ (P1.2∨P2.1)
    - R3: B2.1 ⇔ (P1.1∨P2.2∨P3.1)
  - 처음 방문한 두 칸에 대한 미풍 지각을 위한 문장
    - R4: ¬B1.1
    - R5: ¬B2.1

## 5. 명제의 정리 증명

### 5-1. 개념

- 논리적 동치

  - 문장 a와 b가 같은 모형들에서 참일 때,
    만일 a ⊨ b이고, b ⊨a 이면,
    그리고 오직 그럴 때만, a ≡ b

- 유효성
  - 모든 모형에서 참인 문장은 유효한 문장
  - 함축의 정의는 연역 정리를 이끌어 낼 수 있음
  - 임의의 문장 a와 b에 대해,  
    만일 문장 a ⇒ b가 유효하면,
    오직 그럴 때만 a ⊨ b
- 충족 가능성
  - 주어진 문장이 참이 되는 모형이 존재
  - 문장을 충족하는 모형이 하나 나올 때까지 모든 가능한 모형을 점검
  - 충족 불가능성을 점검하는 방법 (귀류법)
  - 만일 (a⋀¬b)가 충족 불가능이면,
    그리고 오직 그럴 때만 a ⊨ b

![](https://velog.velcdn.com/images/yeonsubaek/post/e8f0a3c0-6d6b-442d-8350-3c7a85eeb4ce/image.png)

### 5-2. 추론과 증명

추론 규칙으로 증명한다. 증명은 원하는 목표로 이어지는 결론들의 사슬이다.

- 전건 긍정 규칙
  ![](https://velog.velcdn.com/images/yeonsubaek/post/2e4d3dda-ba31-49d2-9156-af5f67633b7d/image.png)

- 논리곱 소거
  ![](https://velog.velcdn.com/images/yeonsubaek/post/561bbf72-7eac-4aca-924d-da903371555e/image.png)

- 논리적 동치
  - R1 ~ R5가 있을 때, ¬𝑃1.2가 참임을 증명
    ![](https://velog.velcdn.com/images/yeonsubaek/post/1b8ca113-6491-4b5a-93e6-75ab79d3e19e/image.png)

### 5-3. 분해 증명

분해법 + 완결적 검색 알고리즘 = 완결적인 추론 알고리즘

- [2,1]에서 [1,1]로 돌아와 [1,2]로 가고, 악취는 지각하지만 미풍은 지각하지 않는 상태
  ![](https://velog.velcdn.com/images/yeonsubaek/post/5fc1c079-00e6-4545-8e78-a6860cc6750b/image.png)

## 6. 요약

- 지능적 에이전트가 좋은 결정을 내리려면 세계에 관한 지식 필요
- 지능은 지식 표현 언어로 작성된 문장들의 형태로 존재
- 지식 기반 에이전트는 지식 베이스(문장 저장)와 추론 메커니즘(새로운 문장 추론)으로 구성
- 지식 표현 언어는 문법과 모형 내에서 각 문장의 진릿값을 결정하는 의미론으로 정의
- 추론은 함축 관계가 중요
